<div dir="rtl">
# رویدادها

هر رویداد از کلیدهای زیر تشکیل شده است 

| Key           | Required | Type        | Description |
| ------------- |----------| ------------| -----------:|
| partial_key   | Yes      | String      | این کلید برای ایجاد کلید اصلی درنهایت استفاده میشود. |
| title         | Yes      | Language Map| عنوان رویداد در تقویم رسمی. سال رویداد در این عنوان نباید درج شده باشد |
| description   | No       | Language Map| توضیح رویداد اگر توضیح لازم دارد   |
| year          | No       | Integer     | سالی که این رویداد برای اولین بار در آن اتفاق افتاده است. برای رویدادهایی مثل عید نوروز سالی برای شروع وجود ندارد. همچنین رویدادهایی مثل روز معلم در جمهوری اسلامی، به خاطر یک رویداد دیگر از یک سال خاص شروع شده اند که باید سال رویداد اصلی را برای آنها درنظر گرفت  | 
| month         | Yes      | Integer     |  شماره ماه در تقویم فعلی. تعداد ماهها بر مبنای فایل `preset.yml` تعیین اعتبار میشود | 
| day           | Yes      | Integer     | روز رویداد. این روز بر مبنای بیشترین روز در ماه بر مبنای فایل `preset.yml` تعیین اعتبار میشود | 
| calendar      | Yes      | []String    | نام تقویمی که این رویداد در آن قرار دارد. مثلا نوروز برای ایران باستانیست و ۲۲ بهمن ایران اسلامی|
| holiday       | No       | Condition   | یک نگاشت از نام کشور به آرایه ای از شروط است. شرایط میتواند این باشد که در یک شهر خاص تعطیل است
| sources       | No       | []String    | آرایه‌ای از لینکهایی که مرتبط به این رویداد هستند در ویکی پدیا، این لینکها باید لینک نهایی باشند و نه لینکی که به یک لینک دیگر هدایت میشود. وب سرور این لینک باید برای درخواست Get وضعیت 200 برگرداند.  

## Events Order

هر فایل شامل رویدادهای مربوط به یک ماه است. رویدادهای روزها باید به ترتیب روز مرتب شوند. به اینصورت که رویدادهای روز دوم، بعد از رویدادهای روز اول و قبل از رویدادهای روز سوم قرار میگیرند. 
اگر یک روز شامل چند رویداد باشد، اول رویدادهای بدون سال قرار میگیرند و بعد رویدادهای سال دار، به ترتیب سال. مثلا روز دوم فروردین ابتدا رویداد بی سال عید نوروز قرار میگیرد بعد رویداد مربوط به سال ۱۳۴۲ و بعد رویداد مربوط به سال ۱۳۶۰ (بر فرض وجود رویداد)
اگر بیش از یک رویداد بدون تاریخ یا دو رویداد در یک سال به خصوص و روز به خصوص قرار داشت، ترتیب آنها به عهده اولین ویرایش کننده است وبعد از آن تغییر نمیکند. 

## partial_key 

برای هر رویداد، یک کلید نهایی ایجاد میشود که این کلید برای هر رویداد یکتاست (و در تمامی تقویمها یکتا خواهد بود )
به علت مشکل جاوااسکریپت با اعداد بزرگتر از ۱۶ رقم، این کلید uint32 است. این کلید با استفاده از ترکیب روز و ماه و کلید partial_key درست میشود. 
یعنی، برای یک رویداد جدید کلید partial_key نه کلید اصلی،‌بلکه کلیدی است که کلید اصلی بر مبنای آن ایجاد میشود. 
طبق قرارداد ما، کلید partial_key صرفا از حروف انگلیسی کوچک اعداد و زیر خط تشکیل شده است `[a-z0-9_]` و ترجمه عنوان روز به انگلیسیست، ترجیحا از فارسی با الفبای انگلیسی استفاده نشود، ولی ترجمه دقیق هم لازم نیست. 

## calendar


برای دسته بندی رویدادها از کلید `calendar` استفاده میشود. این کلید آرایه‌ای از رشته‌هاست که مقادیر مجاز آن بسته به هر تقویم متفاوت است 
برای دیدن مقادیر مجاز کلید فایل `preset.yml` در پوشه مرتبط به همان تقویم را ببینید. مقادیر مجاز، در کلید `calendars` زیر کلید `en_US`  قرار دارد. 

## Language Map 
برای پشتیبانی از چند زبانه بودن، عناوینی که ترجمه لازم دارند به صورت Language Map خواهند بود. به این صورت 

```yaml 
title: # Example key 
  fa_IR : عنوان
  en_US : title
```

فعلا کلید `fa_IR` برای همه اجباریست. 

## Condition 

این کلید فعلا یک جای خالی برای تصمیمات بعدیست.

## sources 

فعلا مبنا ویکی پدیاست.

</div> 
